<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:beans="http://www.springframework.org/schema/beans" xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:task="http://www.springframework.org/schema/task" xmlns:util="http://www.springframework.org/schema/util"
    xmlns:hz="http://www.hazelcast.com/schema/spring"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.1.xsd
        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd
        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.1.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.1.xsd
        http://www.hazelcast.com/schema/spring http://www.hazelcast.com/schema/spring/hazelcast-spring.xsd">

    <context:component-scan base-package="com.plazapoints.saas" />
    <bean id="sessionRegistry" class="org.springframework.security.core.session.SessionRegistryImpl" />
    <bean id="restTemplate" class="org.springframework.web.client.RestTemplate">
        <property name="messageConverters">
            <list>
                <bean class="org.springframework.http.converter.StringHttpMessageConverter">
                    <property name="supportedMediaTypes">
                        <list>
                            <bean class="org.springframework.http.MediaType">
                                <constructor-arg index="0" value="text" />
                                <constructor-arg index="1" value="plain" />
                                <constructor-arg index="2" value="UTF-8" />
                            </bean>
                            <bean class="org.springframework.http.MediaType">
                                <constructor-arg index="0" value="*" />
                                <constructor-arg index="1" value="*" />
                                <constructor-arg index="2" value="UTF-8" />
                            </bean>
                        </list>
                    </property>
                </bean>
                <ref bean="jsonHttpMessageConverter" />
            </list>
        </property>
    </bean>
    
	<bean id="jsonHttpMessageConverter" class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter">
        <property name="prefixJson" value="false" />
        <property name="supportedMediaTypes" value="application/json" />
    </bean>

    <util:properties id="propertiesHome" location="file:/${propertiesHome}/configIP.properties, file:/${propertiesHome}/configWeb.properties" />

    <bean id="propiedadWeb" class="com.plazapoints.saas.web.config.PropiedadWeb" init-method="init" scope="singleton" />
	
	<!-- Application Message Bundle -->
    <bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basename" value="classpath:messages/messages" />
        <property name="defaultEncoding" value="UTF-8" />
        <property name="cacheSeconds" value="0" />
    </bean>
    
    
<!--     <bean id="instance" class="com.hazelcast.core.Hazelcast" factory-method="newHazelcastInstance"> -->

<!--     <constructor-arg> -->

<!--         <bean class="com.hazelcast.config.Config"> -->

<!--             <property name="groupConfig"> -->

<!--                 <bean class="com.hazelcast.config.GroupConfig"> -->

<!--                     <property name="name" value="hzsaas"/> -->

<!--                     <property name="password" value="dev-passplaza"/> -->

<!--                 </bean> -->

<!--             </property> -->


<!--         </bean> -->

<!--     </constructor-arg> -->

<!-- </bean> -->

<!-- <bean id="map" factory-bean="instance" factory-method="getMap"> -->

<!--     <constructor-arg value="map"/> -->

<!-- </bean> -->

</beans>